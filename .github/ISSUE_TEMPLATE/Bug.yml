---
name: "ğŸ Bug Report"
description: "æäº¤è¯¦ç»†çš„é”™è¯¯æŠ¥å‘Š"
title: "[BUG] "
labels: ["bug", "needs-triage"]
assignees:
  - "your-team-lead"  # è‡ªåŠ¨åˆ†é…è´Ÿè´£äºº

# --- è¡¨å•ä¸»ä½“ ---
body:
  # 1. åˆ†ç±»éƒ¨åˆ†
  - type: markdown
    attributes:
      value: "## â— é—®é¢˜åˆ†ç±»"

  - type: dropdown
    id: bug_category
    attributes:
      label: "é—®é¢˜ç±»å‹"
      description: "é€‰æ‹©æœ€æ¥è¿‘çš„åˆ†ç±»"
      options:
        - "UI ç•Œé¢é—®é¢˜"
        - "API æ¥å£é”™è¯¯"
        - "æ€§èƒ½é—®é¢˜"
        - "å®‰å…¨æ¼æ´"
        - "å…¶ä»–ï¼ˆéœ€è¯´æ˜ï¼‰"
    validations:
      required: true

  # 2. åŠ¨æ€æ˜¾ç¤ºå­—æ®µï¼ˆä»…å½“é€‰æ‹©"å…¶ä»–"æ—¶æ˜¾ç¤ºï¼‰
  - type: textarea
    id: custom_category
    attributes:
      label: "è¯·å…·ä½“æè¿°é—®é¢˜ç±»å‹"
      placeholder: "ä¾‹å¦‚ï¼šæ•°æ®åº“è¿æ¥æ± æ³„æ¼..."
      conditional: "bug_category == 'å…¶ä»–ï¼ˆéœ€è¯´æ˜ï¼‰'"
    validations:
      required: true

  # 3. æ ¸å¿ƒæè¿°
  - type: markdown
    attributes:
      value: "## ğŸ“ é—®é¢˜è¯¦æƒ…"

  - type: textarea
    id: steps
    attributes:
      label: "é‡ç°æ­¥éª¤"
      description: "è¯¦ç»†æè¿°å¦‚ä½•å¤ç°è¯¥é—®é¢˜"
      placeholder: |
        1. æ‰“å¼€é¡µé¢ /dashboard
        2. ç‚¹å‡»æœç´¢æŒ‰é’®
        3. è¾“å…¥è¶…è¿‡ 100 ä¸ªå­—ç¬¦
        4. è§‚å¯Ÿæ§åˆ¶å°é”™è¯¯
    validations:
      required: true

  - type: textarea
    id: expected
    attributes:
      label: "é¢„æœŸè¡Œä¸º"
      placeholder: "åº”è¯¥æ­£å¸¸æ˜¾ç¤ºæœç´¢ç»“æœ..."

  - type: textarea
    id: actual
    attributes:
      label: "å®é™…è¡Œä¸º"
      placeholder: "é¡µé¢å¡æ­»å¹¶æ˜¾ç¤º 'Internal Server Error'"

  # 4. ç¯å¢ƒä¿¡æ¯
  - type: markdown
    attributes:
      value: "## ğŸŒ ç¯å¢ƒä¿¡æ¯"

  - type: input
    id: os
    attributes:
      label: "æ“ä½œç³»ç»Ÿ"
      placeholder: "Windows 11 / macOS Sonoma / Ubuntu 22.04"
      value: "{{ os }}"  # è‡ªåŠ¨å¡«å……ç³»ç»Ÿå˜é‡

  - type: input
    id: browser
    attributes:
      label: "æµè§ˆå™¨åŠç‰ˆæœ¬"
      placeholder: "Chrome 120 / Safari 17"

  - type: input
    id: app_version
    attributes:
      label: "è½¯ä»¶ç‰ˆæœ¬"
      description: "åœ¨è®¾ç½®ä¸­æŸ¥çœ‹çš„ç‰ˆæœ¬å·"
      placeholder: "v2.3.1"
    validations:
      required: true
      regex: ^v?\d+\.\d+\.\d+(-[a-z0-9]+)?$  # ç‰ˆæœ¬å·æ ¼å¼æ ¡éªŒ

  # 5. è¾…åŠ©ææ–™
  - type: markdown
    attributes:
      value: "## ğŸ“ é™„åŠ ææ–™"

  - type: checkboxes
    id: attachments
    attributes:
      label: "è¯·æä¾›ä»¥ä¸‹ææ–™"
      options:
        - label: "æˆªå›¾"
          required: false
        - label: "æ—¥å¿—æ–‡ä»¶ï¼ˆéœ€è„±æ•ï¼‰"
          required: true
        - label: "å±å¹•å½•åˆ¶"
          required: false

  - type: input
    id: screenshot_url
    attributes:
      label: "æˆªå›¾é“¾æ¥"
      description: "ä¸Šä¼ è‡³å›¾åºŠåç²˜è´´é“¾æ¥"
      placeholder: "https://imgur.com/..."
      conditional: "attachments.includes('æˆªå›¾')"

  # 6. ç¡®è®¤å£°æ˜
  - type: markdown
    attributes:
      value: "## âœ… ç¡®è®¤å£°æ˜"

  - type: checkboxes
    id: confirmations
    attributes:
      label: ""
      options:
        - label: "æˆ‘å·²ç¡®è®¤è¯¥é—®é¢˜æœªè¢«é‡å¤æŠ¥å‘Š"
          required: true
        - label: "æˆ‘å·²é˜…è¯»å¹¶åŒæ„ã€Šé—®é¢˜æäº¤æŒ‡å—ã€‹"
          required: true
---
